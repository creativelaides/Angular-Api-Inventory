<div class="container my-4">
  <h2 class="text-center text-primary mb-4">Inventory Management</h2>

  <!-- Formulario para crear y actualizar productos -->
  <div class="card shadow-sm mb-4">
    <div class="card-header bg-primary text-white">
      <h5 class="mb-0">{{ isEditing ? 'Edit Product' : 'Add New Product' }}</h5>
    </div>
    <div class="card-body">
      <form (ngSubmit)="addOrUpdateProduct()" class="needs-validation" novalidate>
        <div class="row g-3">
          <div class="col-md-6">
            <label for="productName" class="form-label">Product Name</label>
            <input type="text" id="productName" class="form-control" [(ngModel)]="newProduct.name" name="name"
              required />
          </div>
          <div class="col-md-6">
            <label for="productPrice" class="form-label">Price</label>
            <input type="number" id="productPrice" class="form-control" [(ngModel)]="newProduct.price" name="price"
              required />
          </div>
        </div>
        <div class="row g-3 mt-3">
          <div class="col-md-6">
            <label for="productQuantity" class="form-label">Quantity</label>
            <input type="number" id="productQuantity" class="form-control" [(ngModel)]="newProduct.quantity"
              name="quantity" required />
          </div>
          <div class="col-md-6">
            <label for="productImage" class="form-label">Image URL</label>
            <input type="text" id="productImage" class="form-control" [(ngModel)]="newProduct.imageUrl"
              name="imageUrl" />
          </div>
        </div>
        <div class="mt-3">
          <label for="productDescription" class="form-label">Description</label>
          <textarea id="productDescription" class="form-control" [(ngModel)]="newProduct.description" name="description"
            rows="3" required></textarea>
        </div>
        <div class="text-end mt-3">
          <button type="submit" class="btn btn-primary">
            {{ isEditing ? 'Update Product' : 'Add Product' }}
          </button>
          <button type="button" class="btn btn-secondary ms-2" (click)="clearForm()">Reset</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Lista de productos -->
  <h3 class="text-secondary">Product List</h3>
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-primary">
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Image</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td>{{ product.name }}</td>
          <td class="text-truncate" style="max-width: 200px;">{{ product.description }}</td>
          <td>{{ product.price | currency }}</td>
          <td>{{ product.quantity }}</td>
          <td>
            <img [src]="product.imageUrl" alt="Product Image" class="img-thumbnail"
              style="width: 50px; height: 50px;" />
          </td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="editProduct(product)">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deleteProduct(product.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
